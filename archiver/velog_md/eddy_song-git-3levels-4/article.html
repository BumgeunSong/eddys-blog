<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>초등학생에게 Git branch와 merge를 설명해본다면? (Git 2편)</title>
</head>
<body>
  <h1>초등학생에게 Git branch와 merge를 설명해본다면? (Git 2편)</h1>
  <p><em>by eddy_song</em></p>
  <p>Git이라는 버전 관리 시스템은 개발자라면 반드시 배워야 합니다.<br/>
하지만 한번에 다 소화하기엔 복잡하고 어렵죠.</p>
<p>하지만 <strong>초등학생도 이해할 수 있게 단순화시킨 설명</strong>을 들어보고,<br/>
대학생, 개발자로<strong> 차츰 더 수준을 높여간다면</strong> 훨씬 더 이해가 쉽지 않을까요?</p>
<ul>
<li>Wired의 <a href="https://www.wired.com/video/series/5-levels">1 concept in 5 levels</a>에서 영감을 받았습니다.</li>
<li>내용은 주로 <a href="https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control">Pro git</a>을 참고했습니다.</li>
</ul>
<hr/>
<h2 id="설명할-개념">설명할 개념</h2>
<ul>
<li>가지치기 (Branch)</li>
<li>가지를 합치기 (Merge) </li>
</ul>
<hr/>
<h1 id="-초등학생에게-설명하기">👦 초등학생에게 설명하기</h1>
<h2 id="시도가-필요해---가지치기-branch">시도가 필요해 - 가지치기 (Branch)</h2>
<p>🧑‍🏫  지난번 설명으로 git 무엇인지는 좀 감을 잡았겠지?</p>
<p>👦  음.. 근데 까먹었어요. git이 뭐였죠?</p>
<p>🧑‍🏫  너가 친구들하고 같이 하는 미술 숙제를 받았을 때, 중간중간 그림을 사진찍어서 기록으로 남겨두는 거라고 했잖아.</p>
<p>👦  아, 맞당. 근데 그 사진 앨범을 다 같이 나눠 가진 다음 서로서로 기록을 볼 수 있는 거라고 했죠?</p>
<p>🧑‍🏫 그래. 아예 바보는 아니.. 흠흠. 오늘은 git에서 아주 중요한 '가지치기'라는 걸 배울 거야.</p>
<p>👦 가지치기요?</p>
<p>🧑‍🏫 그래. 너가 민수랑 지수랑 같이 그림을 그리기로 했잖아?</p>
<p>근데 지금 그림에 강아지가 그려져있거든. 근데 얘가 너가 보기에 너무 밋밋하게 생긴 거야.</p>
<p>약간 이런 느낌?</p>
<p><img src="https://img4.daumcdn.net/thumb/R658x0.q70/?fname=https://t1.daumcdn.net/news/202105/21/bloter/20210521201115724zwvq.png"/><br/>
(출처: 밍밍이들)</p>
<p>👦 아 이건 진짜 좀 더 그려줘야겠네;;</p>
<p>🧑‍🏫 근데 지금 다같이 그리고 있는 그림이잖아. 민수한테 물어보니까 자기는 이 강아지가 괜찮다는 거야. 그럼 넌 어떻게 할래? </p>
<p>👦 음... 모르겠어요. 꼭 허락받아야 돼요?</p>
<p>🧑‍🏫 다같이 그리는 그림이니까 허락을 받아야지. 그래도 방법이 있어. 일단 너가 혼자서 만들어보는 거야.</p>
<p>지수랑 민수가 그리고 있는 그림을 건드리지 않아야 하니까. 먼저 지금 있는 그림을 복사하는 거야. 그리고 나서 너가 그리고 싶은 강아지를 그려보는 거지. </p>
<p>복사한 강아지한테 모자를 그려줬다고 하자.</p>
<p>그럼 그 복사한 순간부터 지수랑 민수는 원래 그림에다 계속 그리고 있고,<br/>
너는 새로운 그림을 그리고 있으니까, 서로 버전이 갈라지겠지?</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F87e78785-e710-4dfd-a2b0-5c26b0b1a21c%2FScreen%20Shot%202022-03-06%20at%205.44.35%20PM.png"/></p>
<p>👦 어? 그럼 앨범에 사진이 순서대로 생기는 게 아니라, 줄이 여러 개가 생기는 거네요.</p>
<p>🧑‍🏫 그렇지. 기차처럼 쭉 연결된 모양이었지만,<br/>
가지치기를 하면 이렇게 여러 개의 줄이 같이 가는 모양으로 바뀌는 거야.  </p>
<p>이걸 주로 나무 모양하고 비슷하다고 해서 나무에 비유를 많이 하는데,<br/>
보통 다같이 작업하고 있는 버전을 '줄기(trunk)'라고 불러.</p>
<p>너가 뭔가 새로운 시도를 해보고 싶을 때,<br/>
다른 사람이 그리고 있는 그림을 건드리지 않고 해볼 수 있는 버전을 '가지(Branch)'라고 해.</p>
<p>👦 그럼 민수나 지수도 가지를 만들 수 있는 거예요?</p>
<p>🧑‍🏫 물론이지. 누구나 언제든 가지를 만들 수 있어. </p>
<p>실제로 git을 사용해서 프로그램을 만들 때는, 다들 각자 가지를 만들어서 작업을 해. 다른 사람하고 동시에 프로그래밍을 하면 오류가 날 수도 있으니까. </p>
<p>그래서 가지가 엄청 많아지면 구별하기가 힘드니까,<br/>
가지에는 이게 뭘 의미하는지 이름을 달아줘야 해.</p>
<p>줄기에는 주로 '메인'이라고 이름을 붙여.</p>
<p>각자 만든 가지에는 자기가 바꾸고 싶은 내용을 이름으로 붙여주면 돼.</p>
<p>👦 오 그러면 제 가지는 '모자 강아지'로 할래요.</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F0ea25a89-a9b5-4328-bdf9-ac4131e13e84%2FScreen%20Shot%202022-03-06%20at%205.55.03%20PM.png"/></p>
<p>🧑‍🏫 이렇게 각자 가지를 만들어서 작업을 하는 거야!<br/>
그러면 각자 자기 그림에서 새로운 걸 자유롭게 막 그려봐도 되는 거지.<br/>
그래도 다른 애들이 그리고 있는 그림에는 영향을 주지 않아.</p>
<p>👦 다른 애들이 제가 그리고 있는 것도 볼 수 있어요?</p>
<p>🧑‍🏫 그게 바로 git을 활용한 협업의 장점이야<br/>
모두가 앨범을 나눠 갖고 있다고 했지?<br/>
가지의 이름만 알면 현재 사진을 꺼내서 누가 어떻게 그리고 있는지 볼 수 있어.</p>
<p>🧑‍🏫 여기서 각자 그림을 계속 그려가면서, 사진을 기록하게 되면 이런 식의 모양이 될 거야.</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F0743392a-4c3d-4e64-8987-9110a92f5b24%2FScreen%20Shot%202022-03-06%20at%206.04.32%20PM.png"/></p>
<h2 id="시도가-마음에-들어---합치기merge">시도가 마음에 들어 - 합치기(Merge)</h2>
<p>👦 와. 앨범이 엄청 복잡해지네요.</p>
<p>근데 계속 이렇게 가지를 만들기만 하면 숙제를 제출할 때는 어떻게 해요?<br/>
다시 합쳐서 하나의 그림으로 만들어야 하잖아요.</p>
<p>🧑‍🏫 맞아. 이 가지를 합치는 것도 필요해.<br/>
언제 가지를 합쳐야 할까?</p>
<p>👦 음... 그림이 마음에 들었을 때?</p>
<p>🧑‍🏫 더 정확하게는, 같이 작업하는 사람들이 메인 줄기에 넣어도 되겠다고 동의를 했을 때지!</p>
<p>왜냐하면 이건 다 같이 만드는 그림이잖아?</p>
<p>너가 모자 강아지가 마음에 들었어도,<br/>
다른 사람들이 동의를 하지 않으면 합치면 안 되지.</p>
<p>👦 근데 다른 애들꺼보다는 제 강아지가 나은데요?</p>
<p>🧑‍🏫 너가 모자 강아지를 민수, 지수한테 보여줬다고 하자.<br/>
민수랑 지수가 모자 강아지를 보니까 마음에 들었어.</p>
<p>실제로 보니까 마음에 든다는거야.</p>
<p>👦 오, 그러면 이제 합치면 되겠네요!</p>
<p>🧑‍🏫 맞아. 근데 이 합칠 때는 상황을 잘 고려해야 돼.</p>
<p>총 3가지 상황이 있는데, 그 때마다 조금씩 해야하는 일이 다르거든.</p>
<h3 id="1-그냥-합칠-수-있는-상황-빨리-감기">1. 그냥 합칠 수 있는 상황: 빨리 감기</h3>
<p>🧑‍🏫 자, 지금 우리 앨범에 기록된 사진들이 이런 상태라고 해보자.</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2Fe5a71f98-8983-4465-b14b-ee451c357665%2FScreen%20Shot%202022-03-06%20at%206.12.47%20PM.png"/></p>
<p>🧑‍🏫 메인 줄기를 봐. 어떻게 되어있지?</p>
<p>👦 제가 복사했을 때랑 그대로인데요?</p>
<p>🧑‍🏫 그렇지. 변경 사항이 새로 생기지 않았잖아?</p>
<p>이럴 때는 모자 강아지와 메인 줄기를 합치면 그냥 모자 강아지가 되는 거야.</p>
<p>👦 쉽네요.</p>
<p>🧑‍🏫 제일 쉬운 상황이야. 이럴 때는 사실 사진을 합쳐서 새로 만들 필요도 없어.<br/>
그냥 철수 너의 가지를 메인 줄기로 정해주면 되는 거야.</p>
<p>메인 줄기라는 건 사실 우리가 이름표를 붙여준 것 뿐이라서 언제든 옮길 수가 있어.</p>
<p>그러니 메인 줄기를 가장 최신 버전인 모자 강아지 줄기로 옮겨주는 거지!</p>
<p>그러면 자동으로 '메인 줄기'에 '모자 강아지 가지'가 합쳐진 게 되겠지?</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F298c0ede-6e0a-4ad1-97c0-989879cdad10%2FScreen%20Shot%202022-03-06%20at%206.17.37%20PM.png"/></p>
<p>👦 오 한 버전에 이름표가 2개나 붙었어요! 이래도 되는 거에요?</p>
<p>🧑‍🏫 그럼. 전혀 문제 없지. </p>
<p>이렇게 줄기의 이름표만 옮겨서 합치는 방법을,<br/>
'빨리감기 머지'(fast-forward merge)라고 해.</p>
<p>하지만 다른 경우를 볼까?</p>
<h3 id="2-합칠-줄기에-새로운-버전이-있는-상황-충돌이-없을-때">2. 합칠 줄기에 새로운 버전이 있는 상황: 충돌이 없을 때</h3>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F820fd93d-f745-4469-aacd-adec65bccb0c%2FScreen%20Shot%202022-03-06%20at%206.23.17%20PM.png"/></p>
<p>👦 엇, 메인 줄기에 이미 새로운 사진이 있어요!</p>
<p>🧑‍🏫 이미 민수가 먼저 선수를 쳤네. 민수가 고양이를 추가한 버전을 메인 줄기에 합쳐놓았어.</p>
<p>👦 우쒸, 민수 이 자식...!</p>
<p>🧑‍🏫  이럴 때는 먼저 합치려고 하는 가지의 변화와 줄기의 변화를 비교해봐야 해.</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F20ac09d7-126b-482a-b826-3a79522060fe%2FScreen%20Shot%202022-03-06%20at%207.12.23%20PM.png"/></p>
<p>🧑‍🏫  보니까 메인 줄기에서 바뀐 부분은 민수가 추가한 고양이네. 그리고 철수 너가 바꾼 부분은 강아지에 모자를 씌운 거고. 맞지?</p>
<p>👦 맞아요.</p>
<p>🧑‍🏫 그럼 이 경우에는 서로 바꾼 부분이 겹치지 않아. 그냥 합치면 되겠어.</p>
<p>👦 오, 그러면 아까처럼 줄기를 제 가지 쪽으로 옮기는 거예요?</p>
<p>🧑‍🏫 아니야. 그러면 민수가 추가한 고양이가 버전 기록에 없을 거니까.<br/>
이럴 때는 둘의 그림을 합친 다음 <strong>새로운 사진을 하나 더 찍어야 해.</strong></p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2Ff867a0c8-414b-4bcf-9231-c58f5d8cab8c%2FScreen%20Shot%202022-03-06%20at%207.19.57%20PM.png"/></p>
<p>👦 모자랑 고양이가 둘다 들어간 새로운 사진이 생겼네요!</p>
<p>🧑‍🏫 응. 아까와는 다르게 양쪽에 모두 변화가 있기 때문에,<br/>
이렇게 둘의 변화를 모두 반영한 새로운 사진을 만들어서 합치는 거야. </p>
<p>이 사진은 다른 사진과 다르게 '직전 사진'을 2개 가지게 되지!<br/>
모양을 그려보면 이렇게 돼.</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2Fa1b57169-f3f9-4eed-b0f3-8919816d3a00%2FScreen%20Shot%202022-03-06%20at%207.24.31%20PM.png"/></p>
<p>👦 벌어졌던 가지가 다시 합쳐졌어요! </p>
<p>🧑‍🏫 이렇게 새로 생긴 사진은 특별히 '머지 커밋(Merge Commit)'이라고 불러.</p>
<p>이렇게 머지(Merge)를 하면 '모자 강아지 브랜치'는 자동으로 삭제가 돼.<br/>
역할을 다하고, 줄기에 합쳐졌으니까! </p>
<p>대신 이전에 너가 모자를 추가했던 사진들은 여전히 기록에 남아있는 거고.</p>
<h3 id="3-새로운-버전이-있고-같은-부분을-수정한-상황-충돌이-있을-때">3. 새로운 버전이 있고 같은 부분을 수정한 상황: 충돌이 있을 때</h3>
<p>🧑‍🏫 마지막 세번째 경우를 볼까?</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F8fdcf6ca-0bd3-4554-8bcf-0d32cabc271a%2FScreen%20Shot%202022-03-06%20at%207.34.03%20PM.png"/></p>
<p>👦 이번에는 줄기에 지수가 그린 강아지가 합쳐져 있네요?</p>
<p>🧑‍🏫 맞아. 지수는 회색 강아지를 그려놨네.<br/>
그럼 지수와 철수 너가 그린 강아지의 변화를 비교해볼까?</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F3ab9b620-f736-4986-998b-d7ada2c5b2a5%2FScreen%20Shot%202022-03-06%20at%207.34.37%20PM.png"/></p>
<p>🧑‍🏫 이 경우에는 문제가 있어. 너가 바꾼 부분하고 지수가 바꾼 부분이 겹쳐.</p>
<p>👦 잉? 왜요?</p>
<p>🧑‍🏫 넌 <strong>모자를 그리고, 강아지 색깔을 진한 갈색</strong>으로 바꿨잖아?<br/>
근데 지수는 <strong>강아지 색깔을 회색으로</strong> 바꿨어.</p>
<p>그럼 이 상황에서 git은 강아지 색깔을 진한 갈색으로 해야할지 회색으로 해야할지 알 수가 없게 돼.</p>
<p>이렇게 서로 다른 가지가 같은 부분을 수정했을 때, 어떤 버전을 적용할지 모르는 상황을 '충돌(Conflict)'이라고 해.</p>
<p>너의 가지하고 줄기하고 충돌이 난 거야.</p>
<p>👦 헉?! 충돌이요? 그러면 어떻게 해요?</p>
<p>🧑‍🏫 너무 놀라지 마. 충돌은 침착하게 살펴보면 해결할 수 있어.</p>
<p>충돌 상황이 되면 Git은 변화가 충돌하는 부분을 표시해주거든.</p>
<p>그러면 너가 저 중에서 어느 쪽을 적용할지 골라주기만 하면 돼.</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F4b466a1c-5e42-4e78-83bf-8b23f79166d4%2FScreen%20Shot%202022-03-06%20at%207.39.55%20PM.png"/></p>
<p>👦 그러면 저는 색깔은 지수 색깔로 해줄래요. 난 대인배니까.</p>
<p>🧑‍🏫 좋아. 색깔은 회색을 선택하자. 그리고 모자는 겹치지 않으니까 그냥 적용해주면 되겠지.</p>
<p>여기서부턴 아까 2번과 똑같아.<br/>
새로운 합친 사진이 생기고, 가지와 줄기가 합쳐지게 되는 거지.</p>
<p><img src="https://velog.velcdn.com/images%2Feddy_song%2Fpost%2F5019e3cf-a856-4e4e-ad89-1841e76bb1dc%2FScreen%20Shot%202022-03-06%20at%207.44.55%20PM.png"/></p>
<p>👦 나머지는 2번과 똑같고, 충돌 해결만 중간에 해주면 되는 거네요. </p>
<p>🧑‍🏫 그래. 역시 이번에도 새로운 시도를 했던 기록은 앨범에 모두 남아있어.<br/>
나중에 언제든지 확인해볼 수가 있지.</p>
<p>git에서는 이렇게 가지치기와 합치기를 할 수 있기 때문에,<br/>
하나의 폴더에서 작업을 하면서도 안전하게 새로운 시도를 해볼 수 있는 거지!</p>
<p>나중에 시도가 마음에 들면 합치면 되고, 아니면 그냥 내버려둬도 되는 거야.</p>
<p>여러 명이 숙제를 하는데 아주 편리하겠지??</p>
<h2 id="요약-정리">요약 정리</h2>
<ul>
<li>다같이 작업을 하다가, 새로운 시도를 안전하게 시도해보고 싶으면 가지(branch)를 만든다.</li>
<li>각자 가지에 작업을 하면서 사진을 찍어 버전을 기록한다.</li>
<li>바꾼 게 마음에 들어서 줄기에 합치고 싶다면, 합치기를 시도한다.</li>
<li>만약 줄기에 변화가 없다면, 줄기 이름표를 현재 가지로 옮긴다. 현재 가지가 줄기가 된다.</li>
<li>만약 줄기에 변화가 있지만 충돌은 없다면, 새로운 사진을 하나 추가하고 줄기와 가지를 모두 연결한다.</li>
<li>만약 줄기에 변화가 있지만 충돌이 있다면, 어떤 버전을 적용할지 선택하고 2번과 똑같이 마무리한다.</li>
</ul>
<h2 id="관련-링크">관련 링크</h2>
<p>🔗 <a href="https://velog.io/@eddy_song/git-3levels-1">초등학생에게 Git을 설명해본다면? (Git 1편)</a><br/>
🔗 <a href="https://velog.io/@eddy_song/git-3levels-2">대학생에게 Git을 설명해본다면? (Git 1편)</a><br/>
🔗 <a href="https://velog.io/@eddy_song/git-3levels-3">개발자에게 Git을 설명해본다면? (Git 1편)</a><br/>
🔗 <a href="https://velog.io/@eddy_song/git-3levels-4">초등학생에게 Git branch와 merge를 설명해본다면? (Git 2편)</a> </p>
</body>
</html>
